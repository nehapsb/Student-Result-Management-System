<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org">
<script type="text/javascript" src="https://code.jquery.com/jquery-1.7.1.min.js"></script>

<head>
    <meta charset = "ISO-8859-1" />
    <title>Add Students</title>
    <script>
    function validate() {
              var fname = $('#fname').val();
        var lname = $('#lname').val();
        var dob= $('#dob').val();
        if(fname == ""){
           alert("Please enter a First Name here to continue");
           $('#fname').focus();
           return false;
        }
        if(lname == ""){
           alert("Please enter a Family Name here to continue");
           $('#lname').focus();
           return false;
        }
        if(dob == ""){
           alert("Please enter a dob here to continue");
           $('#dob').focus();
           return false;
        }
        if(getAge(dob) <= 10){
           alert("Age should be greater than 10");
           $('#dob').focus();
           return false;
        }

        alert(" Student was added successfully!");
        return true;
    }
        function getAge(dateString) {
            var today = new Date();
            var birthDate = new Date(dateString);
            var age = today.getFullYear() - birthDate.getFullYear();
            var m = today.getMonth() - birthDate.getMonth();
            if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {
                age--;
            }
            return age;
        }
    </script>
</head>

<body style="text-align:center">
<header><h1>Add a new Student</h1></header>
<br/>
<br/>
<div id="studentCreate">
    <form id = "studentRegistration" onsubmit="./student_create" action="./student_create">
        <label for="fname">First name:</label><br>
        <input type="text" id="fname" name="fname"><br>
        <label for="lname">Last name:</label><br>
        <input type="text" id="lname" name="lname"><br><br>
        <label for="dob">Date of Birth:</label><br>
        <input type="date" id="dob" name="dob"><br><br>
        <input type="submit" id= "studentSubmit" value="Submit"  th:onclick="'validate()'">

    </form>
</div>

<br/>
<br/>
<div id="view_student_panel">
    <input type="button" onclick="window.location.href = './student_view'" value="View Students" />
</div>
<br/>
<br/>
<div id="home">
    <input type="button" onclick="window.location.href = './home'" value="Home">
</div>
</body>
</html>